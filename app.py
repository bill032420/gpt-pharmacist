import json

# è¼‰å…¥ FDA è³‡æ–™
with open("fda_drug_info_sample.json", "r", encoding="utf-8") as f:
    fda_data = json.load(f)

import streamlit as st

# å®šç¾©è—¥å“è³‡æ–™åº«
drug_info = {
    "Amlodipine": {
        "é©æ‡‰ç—‡": "é«˜è¡€å£“ã€æ…¢æ€§ç©©å®šå‹å¿ƒçµç—›",
        "å‰¯ä½œç”¨": "ä¸‹è‚¢æ°´è…«ã€é ­ç—›ã€æ½®ç´…",
        "ç¦å¿Œç—‡": "å° dihydropyridine é¡è—¥ç‰©éæ•è€…",
        "ä¾†æº": "TFDA / drugtw.com"
    },
    "Metformin": {
        "é©æ‡‰ç—‡": "ç¬¬äºŒå‹ç³–å°¿ç—…",
        "å‰¯ä½œç”¨": "è…¸èƒƒä¸é©ã€è…¹ç€‰ã€ä¹³é…¸ä¸­æ¯’é¢¨éšªï¼ˆè…åŠŸèƒ½ä¸è‰¯æ™‚ï¼‰",
        "ç¦å¿Œç—‡": "eGFR < 30, ä»£è¬æ€§é…¸ä¸­æ¯’",
        "ä¾†æº": "TFDA / drugtw.com"
    },
    "Warfarin": {
        "é©æ‡‰ç—‡": "å¿ƒæˆ¿é¡«å‹•ã€è¡€æ “é é˜²",
        "å‰¯ä½œç”¨": "å‡ºè¡€ã€ç´«ç™œã€çš®è†šå£æ­»",
        "ç¦å¿Œç—‡": "æ‡·å­•ã€æ´»å‹•æ€§å‡ºè¡€",
        "ä¾†æº": "TFDA / drugtw.com"
    },
    "Atorvastatin": {
        "é©æ‡‰ç—‡": "é«˜è†½å›ºé†‡è¡€ç—‡ã€å¿ƒè¡€ç®¡ç–¾ç—…é é˜²",
        "å‰¯ä½œç”¨": "è‚é…µç´ ä¸Šå‡ã€è‚Œè‚‰ç— ç—›ã€è…¹ç€‰",
        "ç¦å¿Œç—‡": "è‚ç—…ã€æ‡·å­•ã€å“ºä¹³",
        "ä¾†æº": "TFDA / drugtw.com"
    },
    "Omeprazole": {
        "é©æ‡‰ç—‡": "èƒƒæ½°ç˜ã€GERDã€é™¤å¹½é–€æ¡¿èŒ",
        "å‰¯ä½œç”¨": "è…¹ç€‰ã€é ­ç—›ã€B12 ç¼ºä¹ï¼ˆé•·æœŸä½¿ç”¨ï¼‰",
        "ç¦å¿Œç—‡": "å° benzimidazole éæ•",
        "ä¾†æº": "TFDA / drugtw.com"
    }
}

st.title("ğŸ’Š GPT è—¥å¸« Demo")

question = st.text_input("è«‹è¼¸å…¥è—¥ç‰©åç¨±ï¼ˆè‹±æ–‡ï¼‰ï¼š")

if question:
    drug = drug_info.get(question.strip().title())
    if drug:
        st.subheader(f"ğŸ“‹ {question.strip().title()} çš„è—¥å“è³‡è¨Š")
        st.markdown(f"**é©æ‡‰ç—‡**ï¼š{drug['é©æ‡‰ç—‡']}")
        st.markdown(f"**å¸¸è¦‹å‰¯ä½œç”¨**ï¼š{drug['å‰¯ä½œç”¨']}")
        st.markdown(f"**ç¦å¿Œç—‡**ï¼š{drug['ç¦å¿Œç—‡']}")
        st.markdown(f"**è³‡æ–™ä¾†æº**ï¼š{drug['ä¾†æº']}")
    else:
        st.warning("æ‰¾ä¸åˆ°è©²è—¥å“ï¼Œè«‹ç¢ºèªè¼¸å…¥çš„è‹±æ–‡è—¥åæ­£ç¢ºã€‚")
